{"abstract":[{"type":"text","text":"An immediate mode drawing destination, and its current state."}],"primaryContentSections":[{"declarations":[{"platforms":["macOS"],"tokens":[{"text":"@frozen","kind":"attribute"},{"text":" ","kind":"text"},{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"GraphicsContext","kind":"identifier"}],"languages":["swift"]}],"kind":"declarations"},{"kind":"content","content":[{"level":2,"text":"Overview","type":"heading","anchor":"overview"},{"type":"paragraph","inlineContent":[{"text":"Use a context to execute 2D drawing primitives. For example, you can draw","type":"text"},{"text":" ","type":"text"},{"text":"filled shapes using the ","type":"text"},{"type":"codeVoice","code":"fill(_:with:style:)"},{"text":" method inside a ","type":"text"},{"type":"codeVoice","code":"Canvas"},{"text":" ","type":"text"},{"text":"view:","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["Canvas { context, size in","    context.fill(","        Path(ellipseIn: CGRect(origin: .zero, size: size)),","        with: .color(.green))","}",".frame(width: 300, height: 200)"]},{"type":"paragraph","inlineContent":[{"text":"The example above draws an ellipse that just fits inside a canvas that’s","type":"text"},{"text":" ","type":"text"},{"text":"constrained to 300 points wide and 200 points tall:","type":"text"}]},{"type":"paragraph","inlineContent":[]},{"type":"paragraph","inlineContent":[{"text":"In addition to outlining or filling paths, you can draw images, text,","type":"text"},{"text":" ","type":"text"},{"text":"and OpenSwiftUI views. You can also use the context to perform many common","type":"text"},{"text":" ","type":"text"},{"text":"graphical operations, like adding masks, applying filters and","type":"text"},{"text":" ","type":"text"},{"text":"transforms, and setting a blend mode. For example you can add","type":"text"},{"text":" ","type":"text"},{"text":"a mask using the ","type":"text"},{"type":"codeVoice","code":"clip(to:style:options:)"},{"text":" method:","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["let halfSize = size.applying(CGAffineTransform(scaleX: 0.5, y: 0.5))","context.clip(to: Path(CGRect(origin: .zero, size: halfSize)))","context.fill(","    Path(ellipseIn: CGRect(origin: .zero, size: size)),","    with: .color(.green))"]},{"type":"paragraph","inlineContent":[{"text":"The rectangular mask hides all but one quadrant of the ellipse:","type":"text"}]},{"type":"paragraph","inlineContent":[]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The order of operations matters. Changes that you make to the state of"},{"type":"text","text":" "},{"type":"text","text":"the context, like adding a mask or a filter, apply to later"},{"type":"text","text":" "},{"type":"text","text":"drawing operations. If you reverse the fill and clip operations in"},{"type":"text","text":" "},{"type":"text","text":"the example above, so that the fill comes first, the mask doesn’t"},{"type":"text","text":" "},{"type":"text","text":"affect the ellipse."}]},{"type":"paragraph","inlineContent":[{"text":"Each context references a particular layer in a tree of transparency layers,","type":"text"},{"text":" ","type":"text"},{"text":"and also contains a full copy of the drawing state. You can modify the","type":"text"},{"text":" ","type":"text"},{"text":"state of one context without affecting the state of any other, even if","type":"text"},{"text":" ","type":"text"},{"text":"they refer to the same layer. For example you can draw the masked ellipse","type":"text"},{"text":" ","type":"text"},{"text":"from the previous example into a copy of the main context, and then add a","type":"text"},{"text":" ","type":"text"},{"text":"rectangle into the main context:","type":"text"}]},{"syntax":"swift","type":"codeListing","code":["\/\/ Create a copy of the context to draw a clipped ellipse.","var maskedContext = context","let halfSize = size.applying(CGAffineTransform(scaleX: 0.5, y: 0.5))","maskedContext.clip(to: Path(CGRect(origin: .zero, size: halfSize)))","maskedContext.fill(","    Path(ellipseIn: CGRect(origin: .zero, size: size)),","    with: .color(.green))","","\/\/ Go back to the original context to draw the rectangle.","let origin = CGPoint(x: size.width \/ 4, y: size.height \/ 4)","context.fill(","    Path(CGRect(origin: origin, size: halfSize)),","    with: .color(.blue))"]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The mask doesn’t clip the rectangle because the mask isn’t part of the"},{"type":"text","text":" "},{"type":"text","text":"main context. However, both contexts draw into the same view because"},{"type":"text","text":" "},{"type":"text","text":"you created one context as a copy of the other:"}]},{"type":"paragraph","inlineContent":[]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The context has access to an "},{"type":"reference","identifier":"doc:\/\/OpenSwiftUI\/documentation\/OpenSwiftUI\/EnvironmentValues","isActive":true},{"type":"text","text":" instance called"},{"type":"text","text":" "},{"type":"codeVoice","code":"environment"},{"type":"text","text":" that’s initially copied from the environment of its"},{"type":"text","text":" "},{"type":"text","text":"enclosing view. OpenSwiftUI uses environment values — like the display"},{"type":"text","text":" "},{"type":"text","text":"resolution and color scheme — to resolve types like "},{"type":"reference","identifier":"doc:\/\/OpenSwiftUI\/documentation\/OpenSwiftUI\/Image","isActive":true},{"type":"text","text":" and"},{"type":"text","text":" "},{"type":"reference","identifier":"doc:\/\/OpenSwiftUI\/documentation\/OpenSwiftUI\/Color","isActive":true},{"type":"text","text":" that appear in the context. You can also access values stored"},{"type":"text","text":" "},{"type":"text","text":"in the environment for your own purposes."}]}]}],"metadata":{"role":"symbol","title":"GraphicsContext","roleHeading":"Structure","externalID":"s:15OpenSwiftUICore15GraphicsContextV","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"GraphicsContext"}],"platforms":[{"unavailable":false,"beta":false,"name":"iOS","introducedAt":"13.0","deprecated":false},{"unavailable":false,"beta":false,"name":"macOS","introducedAt":"10.15","deprecated":false},{"unavailable":false,"beta":false,"name":"tvOS","introducedAt":"13.0","deprecated":false},{"unavailable":false,"beta":false,"name":"visionOS","introducedAt":"1.0","deprecated":false},{"unavailable":false,"beta":false,"name":"watchOS","introducedAt":"6.0","deprecated":false}],"navigatorTitle":[{"kind":"identifier","text":"GraphicsContext"}],"symbolKind":"struct","remoteSource":{"url":"https:\/\/github.com\/OpenSwiftUIProject\/OpenSwiftUI\/blob\/main\/Sources\/OpenSwiftUICore\/Graphic\/GraphicsContext.swift#L127","fileName":"GraphicsContext.swift"},"modules":[{"name":"OpenSwiftUI"}]},"identifier":{"url":"doc:\/\/OpenSwiftUI\/documentation\/OpenSwiftUI\/GraphicsContext","interfaceLanguage":"swift"},"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/openswiftui\/graphicscontext"]}],"kind":"symbol","schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"topicSections":[{"identifiers":["doc:\/\/OpenSwiftUI\/documentation\/OpenSwiftUI\/GraphicsContext\/BlendMode","doc:\/\/OpenSwiftUI\/documentation\/OpenSwiftUI\/GraphicsContext\/ClipOptions"],"title":"Structures","anchor":"Structures","generated":true}],"hierarchy":{"paths":[["doc:\/\/OpenSwiftUI\/documentation\/OpenSwiftUI"]]},"references":{"doc://OpenSwiftUI/documentation/OpenSwiftUI/Image":{"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Image"}],"title":"Image","navigatorTitle":[{"kind":"identifier","text":"Image"}],"identifier":"doc:\/\/OpenSwiftUI\/documentation\/OpenSwiftUI\/Image","abstract":[{"text":"A view that displays an image.","type":"text"}],"role":"symbol","kind":"symbol","url":"\/documentation\/openswiftui\/image","type":"topic"},"doc://OpenSwiftUI/documentation/OpenSwiftUI/GraphicsContext/ClipOptions":{"fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"ClipOptions"}],"type":"topic","title":"GraphicsContext.ClipOptions","identifier":"doc:\/\/OpenSwiftUI\/documentation\/OpenSwiftUI\/GraphicsContext\/ClipOptions","url":"\/documentation\/openswiftui\/graphicscontext\/clipoptions","navigatorTitle":[{"kind":"identifier","text":"ClipOptions"}],"role":"symbol","abstract":[{"type":"text","text":"Options that affect the use of clip shapes."}],"kind":"symbol"},"doc://OpenSwiftUI/documentation/OpenSwiftUI/GraphicsContext/BlendMode":{"navigatorTitle":[{"kind":"identifier","text":"BlendMode"}],"title":"GraphicsContext.BlendMode","abstract":[{"text":"The ways that a graphics context combines new content with background","type":"text"},{"text":" ","type":"text"},{"text":"content.","type":"text"}],"role":"symbol","identifier":"doc:\/\/OpenSwiftUI\/documentation\/OpenSwiftUI\/GraphicsContext\/BlendMode","kind":"symbol","type":"topic","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"BlendMode"}],"url":"\/documentation\/openswiftui\/graphicscontext\/blendmode"},"doc://OpenSwiftUI/documentation/OpenSwiftUI/GraphicsContext":{"url":"\/documentation\/openswiftui\/graphicscontext","abstract":[{"type":"text","text":"An immediate mode drawing destination, and its current state."}],"title":"GraphicsContext","type":"topic","kind":"symbol","role":"symbol","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"GraphicsContext"}],"identifier":"doc:\/\/OpenSwiftUI\/documentation\/OpenSwiftUI\/GraphicsContext","navigatorTitle":[{"kind":"identifier","text":"GraphicsContext"}]},"doc://OpenSwiftUI/documentation/OpenSwiftUI/EnvironmentValues":{"title":"EnvironmentValues","kind":"symbol","role":"symbol","fragments":[{"text":"struct","kind":"keyword"},{"text":" ","kind":"text"},{"text":"EnvironmentValues","kind":"identifier"}],"navigatorTitle":[{"text":"EnvironmentValues","kind":"identifier"}],"type":"topic","url":"\/documentation\/openswiftui\/environmentvalues","abstract":[{"type":"text","text":"A collection of environment values propagated through a view hierarchy."}],"identifier":"doc:\/\/OpenSwiftUI\/documentation\/OpenSwiftUI\/EnvironmentValues"},"doc://OpenSwiftUI/documentation/OpenSwiftUI":{"type":"topic","identifier":"doc:\/\/OpenSwiftUI\/documentation\/OpenSwiftUI","url":"\/documentation\/openswiftui","title":"OpenSwiftUI","kind":"symbol","role":"collection","abstract":[{"type":"text","text":"Declare the user interface and behavior for your app on every platform."}]},"doc://OpenSwiftUI/documentation/OpenSwiftUI/Color":{"type":"topic","identifier":"doc:\/\/OpenSwiftUI\/documentation\/OpenSwiftUI\/Color","fragments":[{"kind":"keyword","text":"struct"},{"kind":"text","text":" "},{"kind":"identifier","text":"Color"}],"navigatorTitle":[{"kind":"identifier","text":"Color"}],"kind":"symbol","title":"Color","url":"\/documentation\/openswiftui\/color","role":"symbol","abstract":[{"type":"text","text":"A representation of a color that adapts to a given context."}]}}}